/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(1);

$('.item').click(function () {

    var _this = $(this);
    _this.addClass('on').find('.item-inp').focus();;

})

$('.item-inp').blur(function () {
    if (!$(this).val()) {
        $(this).parents('.item').removeClass('on');
    }
})

//读URL参数
function urlKey(name) {
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
    var r = window.location.search.substr(1).match(reg);
    if (r != null) return encodeURI(r[2]); return null;
}
//设置cookie
function setCookie(name, value, time) {
    var oDate = new Date();
    oDate.setTime(oDate.getTime() + time);
    document.cookie = name + '=' + encodeURIComponent(value) + ';expires=' + oDate.toUTCString();
}
//获取cookie
function getCookie(name) {
    var arr = document.cookie.split('; ');
    var i = 0;
    for (i = 0; i < arr.length; i++) {
        var arr2 = arr[i].split('=');

        if (arr2[0] == name) {
            var getC = decodeURIComponent(arr2[1]);
            return getC;
        }
    }
    return '';
}
//日期计算星期
function getDateWeek(year, month, day) {
    var tmpdate = new Date(year, month - 1, day);
    var json = {
        0: '周日',
        1: '周一',
        2: '周二',
        3: '周三',
        4: '周四',
        5: '周五',
        6: '周六'
    }
    return json[tmpdate.getDay()];
}
//验证身份证
function checkIdentity(identity) {
    var reg = /^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/;
    if (reg.test(identity)) {
        return true;
    } else {
        return false;
    }
}


//从url取数据
var PRICE = getCookie('price'),      //价格
    code = urlKey('code'),           //商品id
    type = urlKey('type'),           //商品类型
    name = getCookie('name'),        //商品名
    date = getCookie('date'),        //出游日期
    dateArr = date.split('-'),
    KC = getCookie('kc'),            //库存
    mess = getCookie('mess'),        //是否需要身份证
    useDate = getCookie('use'),
    NUM = getCookie('num'),          //数量
    dataJson = {
        0: '周一',
        1: '周二',
        2: '周三',
        3: '周四',
        4: '周五',
        5: '周六',
        6: '周日'
    }

$('#totalPrice').text(PRICE);
$('#numDate').text('x' + NUM);

if (useDate) {
    useDate = JSON.parse(useDate);
    timeHtml = useDate.limit;
    $('#tips').show();
    for (var i = 0; i < 7; i++) {
        if (useDate.time[i] == 'true') {
            timeHtml += ' <span> ' + dataJson[i] + ' </span>';
        }
    }
    if (useDate.no) {
        timeHtml += ' <p><span>不可用日期 : </span> ';
        for (var i = 0; i < useDate.no.length; i++) {
            timeHtml += useDate.no[i] + ' ';
        }
        timeHtml += '</p>';
    }
    $('#date').html(timeHtml);

} else {
    $('#date').text(date + '(' + getDateWeek(dateArr[0], dateArr[1], dateArr[2]) + ')');
}


//商品名存半小时cookie，判断是否有商品名
if (name) {
    $('#proName').text(name);
} else {
    //没有的话跳转商品详情页面
    location.href = controller + '/p_ticket?code=' + code + '&type=' + type;
}

$('#proPic').prop('src',getCookie('pic'));

//是否需要填写身份证
if (mess == '1' || mess == '2') {
    $('#oneIdentify').show();
    
    if (mess == 2) {
        $('#messContentTitle').show();
        var messContent = '';
        for (var i = 0; i < NUM - 1; i++) {
            messContent += '<div class="one-person">' +
                '<h3 class="number">游客<span class="num">' + (i + 1) + '</span></h3>' +
                '<div class="item"><input class="item-inp name" type="text"  placeholder="请输入真实姓名">' +
                '</div><div class="item"><input class="item-inp identify" type="text"  placeholder="身份证/儿童输入出生日期"></div></div>';
        }
        $('#travelerMess').html(messContent);
    }
}

//去填写游客信息
$('#goTourBtn').click(function () {

    if ($('#reserveCheck').prop('checked')) {

        var confirmText = '是否确认' + $('#ticketTime').text() + '出行?';

        if (useDate) {
            confirmText = '此产品为有效期模式,游玩日期' + $('#ticketTime').text() + ',确认购买?';
        }

        if (confirm(confirmText)) {
            $('#reserveMess').fadeOut(200, function () {
                $('#tourristMess').fadeIn(200);
            });

            var resPrice = bottomTotalPri.text();
            $('#orderTotalPri').text(resPrice);

            if (mess == '2') {
                var itemBox = $('#secItem'),
                    html = '',
                    ticketNum = +$('#ticketNum').text() - 1;

                for (var i = 0; i < ticketNum; i++) {
                    html += '<div class="item-container"><div class="item-box"><p class="item-p"><span class="red">' + (i + 2) + '.</span>游客姓名 : </p><input class="item-inp name" placeholder="姓名" type="text"></div>' +
                        '<div class="item-box"><p class="item-p">身份证号 : </p><input class="item-inp identify" type="text" placeholder="若是儿童输入出生日期"></div></div>';
                }

                itemBox.html(html);
            }
        }
    } else {
        Alert('请先确认预定须知!!!');
    }
})

//确认下单
$('#commitOrder').click(function () {

    var tourName = $('#name').val();
    if (!tourName) {
        alert('请输入您的真实姓名!');
        return false;
    }

    var tourMobile = $('#mobile').val();
    if (tourMobile) {
        if (!(/^1\d{10}$/.test(tourMobile))) {
            alert("联系手机号码有误，请重填");
            return false;
        }
    } else {
        alert('请输入联系的手机号码!');
        return false;
    }

    var tourIdentify = $('#identify').val();
    if ($('#oneIdentify').css('display') == 'block') {
        if (tourIdentify) {
            if (!checkIdentity(tourIdentify)) {
                alert('游客身份证号码错误!');
                return false;
            }
        } else {
            alert('请输入身份证号码!');
            return false;
        }
    }

    var remarks = $('#marks').val();

    var data = {};
    data.playerInfo = [];    //空数组怎么发不出去？？

    var len = $('.one-person').length;

    if (len > 0) {
        for (var i = 0; i < len; i++) {
            var itemContainer = $('.one-person').eq(i);
            var nameVal = itemContainer.find('.name').val();
            var idetVal = itemContainer.find('.identify').val();

            if (!nameVal) {
                Alert('请输入第' + (i + 2) + '位游客的姓名!');
                return false;
            }

            if (!idetVal) {
                Alert('请输入第' + (i + 2) + '位游客的身份证或出生日期!');
                return false;
            }

            var json = {
                name: nameVal,
                identify: idetVal
            }

            data.playerInfo.push(json);  //身份数组
        }
    }

    if(!$('#agreement').prop('checked')){
        alert('请先阅读并同意《随意游服务使用协议》');
    }

    data.code = urlKey('code');
    data.gyscode = getCookie('user');

    data.identification = tourIdentify; //身份证
    data.mobile = tourMobile;           //游客手机
    data.name = tourName;               //第一位游客姓名
    data.jxscode = '';                  //以后的分销商pid
    data.remarks = remarks;             //备注
    data.date = date;                   //出行时间
    data.num = +NUM; //数量
    data.totalPrice = $('#totalPrice').text();  //总价

    var _this = $(this);

    _this.prop('disabled', true);
    _this.css('backgroundColor', '#ffa69c');

    $.ajax({
        url: 'http://www.suiyiyou.net/index.php/weixin/Order/addTickOrder',
        data: data,
        type: 'POST',
        success: function (res) {
          
            var code = res.code,
                data = res.data;
            if (code == 200) {
                location.href = 'http://www.suiyiyou.net/index.php/Weixin/Jsapi/index?orderSn=' + data.orderSn + '&type=' + type + '&';
            } else {
                Alert(res.msg);
                _this.prop('disabled', false);
                _this.css('backgroundColor', '#ff1900');
            }
        }
    })
})




/***/ }),
/* 1 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDYxMTcyZGNjZWU5M2YwZjI4NzYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RfdGlja2V0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9kX3RpY2tldC9pbmRleC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQzdEQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0EsZUFBZSxnQkFBZ0I7QUFDL0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixFQUFFLE1BQU0sR0FBRyxTQUFTLEVBQUUsTUFBTSxHQUFHO0FBQ3JEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdUJBQXVCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixhQUFhO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQixlQUFlO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsR0FBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EseUJBQXlCOztBQUV6Qjs7QUFFQTtBQUNBLHVCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUM7QUFDdkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx1Q0FBdUM7QUFDdkMsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEIsMkJBQTJCO0FBQzNCLHFCQUFxQjtBQUNyQixvQkFBb0I7QUFDcEIsOENBQThDOztBQUU5Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDOzs7Ozs7Ozs7QUN4UkQseUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBkNjExNzJkY2NlZTkzZjBmMjg3NiIsInJlcXVpcmUoJy4vaW5kZXguc2NzcycpO1xyXG5cclxuJCgnLml0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIF90aGlzID0gJCh0aGlzKTtcclxuICAgIF90aGlzLmFkZENsYXNzKCdvbicpLmZpbmQoJy5pdGVtLWlucCcpLmZvY3VzKCk7O1xyXG5cclxufSlcclxuXHJcbiQoJy5pdGVtLWlucCcpLmJsdXIoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCEkKHRoaXMpLnZhbCgpKSB7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuLy/or7tVUkzlj4LmlbBcclxuZnVuY3Rpb24gdXJsS2V5KG5hbWUpIHtcclxuICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKFwiKF58JilcIiArIG5hbWUgKyBcIj0oW14mXSopKCZ8JClcIik7XHJcbiAgICB2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XHJcbiAgICBpZiAociAhPSBudWxsKSByZXR1cm4gZW5jb2RlVVJJKHJbMl0pOyByZXR1cm4gbnVsbDtcclxufVxyXG4vL+iuvue9rmNvb2tpZVxyXG5mdW5jdGlvbiBzZXRDb29raWUobmFtZSwgdmFsdWUsIHRpbWUpIHtcclxuICAgIHZhciBvRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBvRGF0ZS5zZXRUaW1lKG9EYXRlLmdldFRpbWUoKSArIHRpbWUpO1xyXG4gICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAnO2V4cGlyZXM9JyArIG9EYXRlLnRvVVRDU3RyaW5nKCk7XHJcbn1cclxuLy/ojrflj5Zjb29raWVcclxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcclxuICAgIHZhciBhcnIgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJyk7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFycjIgPSBhcnJbaV0uc3BsaXQoJz0nKTtcclxuXHJcbiAgICAgICAgaWYgKGFycjJbMF0gPT0gbmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgZ2V0QyA9IGRlY29kZVVSSUNvbXBvbmVudChhcnIyWzFdKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG59XHJcbi8v5pel5pyf6K6h566X5pif5pyfXHJcbmZ1bmN0aW9uIGdldERhdGVXZWVrKHllYXIsIG1vbnRoLCBkYXkpIHtcclxuICAgIHZhciB0bXBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpO1xyXG4gICAgdmFyIGpzb24gPSB7XHJcbiAgICAgICAgMDogJ+WRqOaXpScsXHJcbiAgICAgICAgMTogJ+WRqOS4gCcsXHJcbiAgICAgICAgMjogJ+WRqOS6jCcsXHJcbiAgICAgICAgMzogJ+WRqOS4iScsXHJcbiAgICAgICAgNDogJ+WRqOWbmycsXHJcbiAgICAgICAgNTogJ+WRqOS6lCcsXHJcbiAgICAgICAgNjogJ+WRqOWFrSdcclxuICAgIH1cclxuICAgIHJldHVybiBqc29uW3RtcGRhdGUuZ2V0RGF5KCldO1xyXG59XHJcbi8v6aqM6K+B6Lqr5Lu96K+BXHJcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHkoaWRlbnRpdHkpIHtcclxuICAgIHZhciByZWcgPSAvXlsxLTldezF9WzAtOV17MTR9JHxeWzEtOV17MX1bMC05XXsxNn0oWzAtOV18W3hYXSkkLztcclxuICAgIGlmIChyZWcudGVzdChpZGVudGl0eSkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy/ku451cmzlj5bmlbDmja5cclxudmFyIFBSSUNFID0gZ2V0Q29va2llKCdwcmljZScpLCAgICAgIC8v5Lu35qC8XHJcbiAgICBjb2RlID0gdXJsS2V5KCdjb2RlJyksICAgICAgICAgICAvL+WVhuWTgWlkXHJcbiAgICB0eXBlID0gdXJsS2V5KCd0eXBlJyksICAgICAgICAgICAvL+WVhuWTgeexu+Wei1xyXG4gICAgbmFtZSA9IGdldENvb2tpZSgnbmFtZScpLCAgICAgICAgLy/llYblk4HlkI1cclxuICAgIGRhdGUgPSBnZXRDb29raWUoJ2RhdGUnKSwgICAgICAgIC8v5Ye65ri45pel5pyfXHJcbiAgICBkYXRlQXJyID0gZGF0ZS5zcGxpdCgnLScpLFxyXG4gICAgS0MgPSBnZXRDb29raWUoJ2tjJyksICAgICAgICAgICAgLy/lupPlrZhcclxuICAgIG1lc3MgPSBnZXRDb29raWUoJ21lc3MnKSwgICAgICAgIC8v5piv5ZCm6ZyA6KaB6Lqr5Lu96K+BXHJcbiAgICB1c2VEYXRlID0gZ2V0Q29va2llKCd1c2UnKSxcclxuICAgIE5VTSA9IGdldENvb2tpZSgnbnVtJyksICAgICAgICAgIC8v5pWw6YePXHJcbiAgICBkYXRhSnNvbiA9IHtcclxuICAgICAgICAwOiAn5ZGo5LiAJyxcclxuICAgICAgICAxOiAn5ZGo5LqMJyxcclxuICAgICAgICAyOiAn5ZGo5LiJJyxcclxuICAgICAgICAzOiAn5ZGo5ZubJyxcclxuICAgICAgICA0OiAn5ZGo5LqUJyxcclxuICAgICAgICA1OiAn5ZGo5YWtJyxcclxuICAgICAgICA2OiAn5ZGo5pelJ1xyXG4gICAgfVxyXG5cclxuJCgnI3RvdGFsUHJpY2UnKS50ZXh0KFBSSUNFKTtcclxuJCgnI251bURhdGUnKS50ZXh0KCd4JyArIE5VTSk7XHJcblxyXG5pZiAodXNlRGF0ZSkge1xyXG4gICAgdXNlRGF0ZSA9IEpTT04ucGFyc2UodXNlRGF0ZSk7XHJcbiAgICB0aW1lSHRtbCA9IHVzZURhdGUubGltaXQ7XHJcbiAgICAkKCcjdGlwcycpLnNob3coKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHVzZURhdGUudGltZVtpXSA9PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgdGltZUh0bWwgKz0gJyA8c3Bhbj4gJyArIGRhdGFKc29uW2ldICsgJyA8L3NwYW4+JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodXNlRGF0ZS5ubykge1xyXG4gICAgICAgIHRpbWVIdG1sICs9ICcgPHA+PHNwYW4+5LiN5Y+v55So5pel5pyfIDogPC9zcGFuPiAnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXNlRGF0ZS5uby5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aW1lSHRtbCArPSB1c2VEYXRlLm5vW2ldICsgJyAnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lSHRtbCArPSAnPC9wPic7XHJcbiAgICB9XHJcbiAgICAkKCcjZGF0ZScpLmh0bWwodGltZUh0bWwpO1xyXG5cclxufSBlbHNlIHtcclxuICAgICQoJyNkYXRlJykudGV4dChkYXRlICsgJygnICsgZ2V0RGF0ZVdlZWsoZGF0ZUFyclswXSwgZGF0ZUFyclsxXSwgZGF0ZUFyclsyXSkgKyAnKScpO1xyXG59XHJcblxyXG5cclxuLy/llYblk4HlkI3lrZjljYrlsI/ml7Zjb29raWXvvIzliKTmlq3mmK/lkKbmnInllYblk4HlkI1cclxuaWYgKG5hbWUpIHtcclxuICAgICQoJyNwcm9OYW1lJykudGV4dChuYW1lKTtcclxufSBlbHNlIHtcclxuICAgIC8v5rKh5pyJ55qE6K+d6Lez6L2s5ZWG5ZOB6K+m5oOF6aG16Z2iXHJcbiAgICBsb2NhdGlvbi5ocmVmID0gY29udHJvbGxlciArICcvcF90aWNrZXQ/Y29kZT0nICsgY29kZSArICcmdHlwZT0nICsgdHlwZTtcclxufVxyXG5cclxuJCgnI3Byb1BpYycpLnByb3AoJ3NyYycsZ2V0Q29va2llKCdwaWMnKSk7XHJcblxyXG4vL+aYr+WQpumcgOimgeWhq+WGmei6q+S7veivgVxyXG5pZiAobWVzcyA9PSAnMScgfHwgbWVzcyA9PSAnMicpIHtcclxuICAgICQoJyNvbmVJZGVudGlmeScpLnNob3coKTtcclxuICAgIFxyXG4gICAgaWYgKG1lc3MgPT0gMikge1xyXG4gICAgICAgICQoJyNtZXNzQ29udGVudFRpdGxlJykuc2hvdygpO1xyXG4gICAgICAgIHZhciBtZXNzQ29udGVudCA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlVNIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIG1lc3NDb250ZW50ICs9ICc8ZGl2IGNsYXNzPVwib25lLXBlcnNvblwiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxoMyBjbGFzcz1cIm51bWJlclwiPua4uOWuojxzcGFuIGNsYXNzPVwibnVtXCI+JyArIChpICsgMSkgKyAnPC9zcGFuPjwvaDM+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIj48aW5wdXQgY2xhc3M9XCJpdGVtLWlucCBuYW1lXCIgdHlwZT1cInRleHRcIiAgcGxhY2Vob2xkZXI9XCLor7fovpPlhaXnnJ/lrp7lp5PlkI1cIj4nICtcclxuICAgICAgICAgICAgICAgICc8L2Rpdj48ZGl2IGNsYXNzPVwiaXRlbVwiPjxpbnB1dCBjbGFzcz1cIml0ZW0taW5wIGlkZW50aWZ5XCIgdHlwZT1cInRleHRcIiAgcGxhY2Vob2xkZXI9XCLouqvku73or4Ev5YS/56ul6L6T5YWl5Ye655Sf5pel5pyfXCI+PC9kaXY+PC9kaXY+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnI3RyYXZlbGVyTWVzcycpLmh0bWwobWVzc0NvbnRlbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vL+WOu+Whq+WGmea4uOWuouS/oeaBr1xyXG4kKCcjZ29Ub3VyQnRuJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGlmICgkKCcjcmVzZXJ2ZUNoZWNrJykucHJvcCgnY2hlY2tlZCcpKSB7XHJcblxyXG4gICAgICAgIHZhciBjb25maXJtVGV4dCA9ICfmmK/lkKbnoa7orqQnICsgJCgnI3RpY2tldFRpbWUnKS50ZXh0KCkgKyAn5Ye66KGMPyc7XHJcblxyXG4gICAgICAgIGlmICh1c2VEYXRlKSB7XHJcbiAgICAgICAgICAgIGNvbmZpcm1UZXh0ID0gJ+atpOS6p+WTgeS4uuacieaViOacn+aooeW8jyzmuLjnjqnml6XmnJ8nICsgJCgnI3RpY2tldFRpbWUnKS50ZXh0KCkgKyAnLOehruiupOi0reS5sD8nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpcm0oY29uZmlybVRleHQpKSB7XHJcbiAgICAgICAgICAgICQoJyNyZXNlcnZlTWVzcycpLmZhZGVPdXQoMjAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjdG91cnJpc3RNZXNzJykuZmFkZUluKDIwMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc1ByaWNlID0gYm90dG9tVG90YWxQcmkudGV4dCgpO1xyXG4gICAgICAgICAgICAkKCcjb3JkZXJUb3RhbFByaScpLnRleHQocmVzUHJpY2UpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1lc3MgPT0gJzInKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUJveCA9ICQoJyNzZWNJdGVtJyksXHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpY2tldE51bSA9ICskKCcjdGlja2V0TnVtJykudGV4dCgpIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpY2tldE51bTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIml0ZW0tY29udGFpbmVyXCI+PGRpdiBjbGFzcz1cIml0ZW0tYm94XCI+PHAgY2xhc3M9XCJpdGVtLXBcIj48c3BhbiBjbGFzcz1cInJlZFwiPicgKyAoaSArIDIpICsgJy48L3NwYW4+5ri45a6i5aeT5ZCNIDogPC9wPjxpbnB1dCBjbGFzcz1cIml0ZW0taW5wIG5hbWVcIiBwbGFjZWhvbGRlcj1cIuWnk+WQjVwiIHR5cGU9XCJ0ZXh0XCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbS1ib3hcIj48cCBjbGFzcz1cIml0ZW0tcFwiPui6q+S7veivgeWPtyA6IDwvcD48aW5wdXQgY2xhc3M9XCJpdGVtLWlucCBpZGVudGlmeVwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLoi6XmmK/lhL/nq6XovpPlhaXlh7rnlJ/ml6XmnJ9cIj48L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW1Cb3guaHRtbChodG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgQWxlcnQoJ+ivt+WFiOehruiupOmihOWumumhu+efpSEhIScpO1xyXG4gICAgfVxyXG59KVxyXG5cclxuLy/noa7orqTkuIvljZVcclxuJCgnI2NvbW1pdE9yZGVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciB0b3VyTmFtZSA9ICQoJyNuYW1lJykudmFsKCk7XHJcbiAgICBpZiAoIXRvdXJOYW1lKSB7XHJcbiAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeaCqOeahOecn+WunuWnk+WQjSEnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRvdXJNb2JpbGUgPSAkKCcjbW9iaWxlJykudmFsKCk7XHJcbiAgICBpZiAodG91ck1vYmlsZSkge1xyXG4gICAgICAgIGlmICghKC9eMVxcZHsxMH0kLy50ZXN0KHRvdXJNb2JpbGUpKSkge1xyXG4gICAgICAgICAgICBhbGVydChcIuiBlOezu+aJi+acuuWPt+eggeacieivr++8jOivt+mHjeWhq1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeiBlOezu+eahOaJi+acuuWPt+eggSEnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRvdXJJZGVudGlmeSA9ICQoJyNpZGVudGlmeScpLnZhbCgpO1xyXG4gICAgaWYgKCQoJyNvbmVJZGVudGlmeScpLmNzcygnZGlzcGxheScpID09ICdibG9jaycpIHtcclxuICAgICAgICBpZiAodG91cklkZW50aWZ5KSB7XHJcbiAgICAgICAgICAgIGlmICghY2hlY2tJZGVudGl0eSh0b3VySWRlbnRpZnkpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgn5ri45a6i6Lqr5Lu96K+B5Y+356CB6ZSZ6K+vIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpei6q+S7veivgeWPt+eggSEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmVtYXJrcyA9ICQoJyNtYXJrcycpLnZhbCgpO1xyXG5cclxuICAgIHZhciBkYXRhID0ge307XHJcbiAgICBkYXRhLnBsYXllckluZm8gPSBbXTsgICAgLy/nqbrmlbDnu4TmgI7kuYjlj5HkuI3lh7rljrvvvJ/vvJ9cclxuXHJcbiAgICB2YXIgbGVuID0gJCgnLm9uZS1wZXJzb24nKS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtQ29udGFpbmVyID0gJCgnLm9uZS1wZXJzb24nKS5lcShpKTtcclxuICAgICAgICAgICAgdmFyIG5hbWVWYWwgPSBpdGVtQ29udGFpbmVyLmZpbmQoJy5uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgIHZhciBpZGV0VmFsID0gaXRlbUNvbnRhaW5lci5maW5kKCcuaWRlbnRpZnknKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbmFtZVZhbCkge1xyXG4gICAgICAgICAgICAgICAgQWxlcnQoJ+ivt+i+k+WFpeesrCcgKyAoaSArIDIpICsgJ+S9jea4uOWuoueahOWnk+WQjSEnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFpZGV0VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBBbGVydCgn6K+36L6T5YWl56ysJyArIChpICsgMikgKyAn5L2N5ri45a6i55qE6Lqr5Lu96K+B5oiW5Ye655Sf5pel5pyfIScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIganNvbiA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVWYWwsXHJcbiAgICAgICAgICAgICAgICBpZGVudGlmeTogaWRldFZhbFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhLnBsYXllckluZm8ucHVzaChqc29uKTsgIC8v6Lqr5Lu95pWw57uEXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmKCEkKCcjYWdyZWVtZW50JykucHJvcCgnY2hlY2tlZCcpKXtcclxuICAgICAgICBhbGVydCgn6K+35YWI6ZiF6K+75bm25ZCM5oSP44CK6ZqP5oSP5ri45pyN5Yqh5L2/55So5Y2P6K6u44CLJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YS5jb2RlID0gdXJsS2V5KCdjb2RlJyk7XHJcbiAgICBkYXRhLmd5c2NvZGUgPSBnZXRDb29raWUoJ3VzZXInKTtcclxuXHJcbiAgICBkYXRhLmlkZW50aWZpY2F0aW9uID0gdG91cklkZW50aWZ5OyAvL+i6q+S7veivgVxyXG4gICAgZGF0YS5tb2JpbGUgPSB0b3VyTW9iaWxlOyAgICAgICAgICAgLy/muLjlrqLmiYvmnLpcclxuICAgIGRhdGEubmFtZSA9IHRvdXJOYW1lOyAgICAgICAgICAgICAgIC8v56ys5LiA5L2N5ri45a6i5aeT5ZCNXHJcbiAgICBkYXRhLmp4c2NvZGUgPSAnJzsgICAgICAgICAgICAgICAgICAvL+S7peWQjueahOWIhumUgOWVhnBpZFxyXG4gICAgZGF0YS5yZW1hcmtzID0gcmVtYXJrczsgICAgICAgICAgICAgLy/lpIfms6hcclxuICAgIGRhdGEuZGF0ZSA9IGRhdGU7ICAgICAgICAgICAgICAgICAgIC8v5Ye66KGM5pe26Ze0XHJcbiAgICBkYXRhLm51bSA9ICtOVU07IC8v5pWw6YePXHJcbiAgICBkYXRhLnRvdGFsUHJpY2UgPSAkKCcjdG90YWxQcmljZScpLnRleHQoKTsgIC8v5oC75Lu3XHJcblxyXG4gICAgdmFyIF90aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICBfdGhpcy5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgX3RoaXMuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCAnI2ZmYTY5YycpO1xyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnaHR0cDovL3d3dy5zdWl5aXlvdS5uZXQvaW5kZXgucGhwL3dlaXhpbi9PcmRlci9hZGRUaWNrT3JkZXInLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgY29kZSA9IHJlcy5jb2RlLFxyXG4gICAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnaHR0cDovL3d3dy5zdWl5aXlvdS5uZXQvaW5kZXgucGhwL1dlaXhpbi9Kc2FwaS9pbmRleD9vcmRlclNuPScgKyBkYXRhLm9yZGVyU24gKyAnJnR5cGU9JyArIHR5cGUgKyAnJic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBBbGVydChyZXMubXNnKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCAnI2ZmMTkwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuXHJcblxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9kX3RpY2tldC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZF90aWNrZXQvaW5kZXguc2Nzc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSJdLCJzb3VyY2VSb290IjoiIn0=